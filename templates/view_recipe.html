{% extends "base.html" %}
{% block content %}
<!-- Search Box-->
<div class="row justify-content-center mt-5">
    <div class="col-12 col-md-8 col-lg-6">
        <form  action="{{ url_for('search') }}" method="post">
            <div class="row g-3">                       
                <div class="col-6 font-weight-bolder">
                    <input class="form-control" type="search" name="query" id="query" minlength="3"
                placeholder="Search Recipes" aria-label="Search" required>                   
                </div>    
                <div class="col-6 font-weight-bolder">                
                    <button class="btn btn-lavender" type="submit"><i class="fas fa-search"></i></button>
                    <a class="btn btn-red" href="{{ url_for('all_recipes') }}">Reset</a>               
                </div>                                                
            </div>            
        </form>
    </div>
</div>

<!-- One Recipe -->
<div class="row justify-content-center mt-5">
    <div class="col-md-auto">
        <div class="d-flex">
            <div style="width: 40rem;">
                <h2 class="text-center mb-3">{{ recipe.recipe_name }}</h2>                
                <div class="card">                    
                    <img class="rounded-border card-img bd-placeholder-img shadow-box" src="{{ recipe.image }}" alt="recipe_image" width="100%" aria-label="Placeholder: Card image">
                    <h5 class="user"><i class="far fa-user-circle user__icon"></i> {{ recipe.created_by }}</h5>
                </div>
                <h3 class="text-center pt-4">Ingredients</h3>
                <hr>
                <p class="card__recipe-text text-center pt-2">
                    <small class="text-muted">
                        <i class="fas fa-hourglass-half pl-3"></i> Cook: {{ recipe.time }} 
                        <i class="fas fa-signal  pl-3"></i> Difficulty: {{ recipe.difficulty }}
                    </small>
                </p>
                <ul class="recipe_list-ingredients">
                    <!-- For each ingredient line -->
                    {% for line in recipe.ingredients.splitlines() %}
                    <li class="ul-item">
                        <p>{{line}}</p>
                    </li>
                    {% endfor %}
                </ul>
                <h3 class="text-center pt-4">Directions</h3>
                <hr class="mb-4">
                {% for line in recipe.directions.splitlines() %}
                <p>
                    {{line}}
                </p>
                {% endfor %}
            </div>
        </div>
        <div class="row text-center mt-5">
            <div class="col-12">
                <a class="btn btn-dimgray" href="{{ url_for('all_recipes') }}">Back to Recipe</a>                 
                {% if session.user %}                              
                <a class="btn btn-heart" href="{{ url_for('favourite_recipe', recipe_id=recipe._id) }}">
                    <i class="fas fa-heart" id="like"></i>Add to Favourites</a>
                    <a class="btn btn-lavender" href="{{ url_for('remove_recipe', recipe_id=recipe._id) }}">
                                <i class="fas fa-minus" id="like_minus"></i></a>
                {% endif %}                  
            </div>
        </div>                    
    </div>
</div>

<!-- Products -->
<section>
    <div class="row">
        <div class="col-12">
            <h2 class="text-center mt-5">
                Kitchen
            </h2>
            <hr>
            <h4 class="text-center mb-5">Tools & Helpers</h4>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-10 col-sm-4 col-lg-3 mb-4">
            <div class="products__card-container">
                <div class="products__card">
                    <div class="products__card-front">
                        <div class="products__image-container">                
                            <img class="card-img-top products__image products__image mt-4" 
                                src="https://m.media-amazon.com/images/I/81oOfHC4AjL._AC_SL1500_.jpg" alt="Kitchen Tools">
                        </div>
                        <div class="products__card-body">
                            <h6 class="text-center px-3 pb-4">Zoie + Chloe Dough Press Set</h6>                    
                        </div>
                    </div>
                    <div class="products__card-hover">
                        <a class="btn btn-sm btn-buy" target="_blank" rel="noreferrer"
                            href="https://www.amazon.com/Zoie-Chloe-3-Piece-Dough-Press/dp/B015XMKQQ2/ref=sr_1_189?crid=2083W3YHV8NDX&dchild=1&keywords=kitchen+tools+and+gadgets&qid=1627078774&sprefix=kitchen+tools%2Caps%2C499&sr=8-189">
                                Buy It: $7.99 Amazon
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-10 col-sm-4 col-lg-3 mb-4">
            <div class="products__card-container">
                <div class="products__card">
                    <div class="products__card-front">
                        <div class="products__image-container">                
                            <img class="card-img-top products__image products__image mt-4" 
                                src="https://m.media-amazon.com/images/I/71uwtorVa6S._AC_SL1500_.jpg" alt="Kitchen Tools">
                        </div>
                        <div class="products__card-body">
                            <h6 class="text-center px-3 pb-4">Kitchen Gadget Herb Stripper</h6>                    
                        </div>
                    </div>
                    <div class="products__card-hover">
                        <a class="btn btn-sm btn-buy" target="_blank" rel="noreferrer"
                            href="https://www.amazon.com/Stripper-Stainless-Remover-Kitchen-Include/dp/B092M3WTQ5/ref=sr_1_201?crid=2083W3YHV8NDX&dchild=1&keywords=kitchen+tools+and+gadgets&qid=1627079218&sprefix=kitchen+tools%2Caps%2C499&sr=8-201">
                                Buy It: $16.99 Amazon
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-10 col-sm-4 col-lg-3 mb-4">
            <div class="products__card-container">
                <div class="products__card">
                    <div class="products__card-front">
                        <div class="products__image-container">                
                            <img class="card-img-top products__image products__image mt-4" 
                                src="https://m.media-amazon.com/images/I/71GMEOmoKgL._AC_SL1500_.jpg" alt="Kitchen Tools">
                        </div>
                        <div class="products__card-body">
                            <h6 class="text-center px-3 pb-4">Al Dente - The Singing Floating Pasta Timer</h6>                    
                        </div>
                    </div>
                    <div class="products__card-hover">
                        <a class="btn btn-sm btn-buy" target="_blank" rel="noreferrer"
                            href="https://www.amazon.com/Al-Dente-Singing-Floating-Different/dp/B00PFZL59K/ref=sr_1_220?crid=2083W3YHV8NDX&dchild=1&keywords=kitchen+tools+and+gadgets&qid=1627079374&sprefix=kitchen+tools%2Caps%2C499&sr=8-220">
                                Buy It: $24.46 Amazon
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}