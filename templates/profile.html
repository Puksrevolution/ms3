{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center text-center">
    <div class="col-10 col-sm-8 col-lg-6">
        <i class="fas fa-user-circle"></i>
    </div>
</div>

<!-- Greeting -->
<div class="row">
    <div class="col-12">
        <h2 class="text-center pb-4">
            Hi {{ username }}
        </h2>
    </div>
</div>

<!-- Greeting -->
<div class="row justify-content-center">
    <div class="col-10 col-sm-8 col-lg-6">
        <p>
            Creating new recipes and share them with other users.<br>
            Favourite other users recipes and add them to your profile.
        </p>
    </div>
</div>

<div class="row justify-content-center">
    <div class="col-12 col-sm-8 mt-4">
        <p class="recipe_list mb-3"><i class="fas fa-heart"></i> Your <strong>Favourite Recipes</strong>:</p>
        <!-- Favourites content -->
        {% for favourite in favourites %}
        <div>
            <a href="#">                           
            <h6 class="favourite recipe_name">  {{ favourite.recipe_name }}  
            </a>     
                <a class="btn btn-sm ml-2" href="">
                <i class="fas fa-minus"></i></a>                
            </h6>                                     
        </div>                    
        {% endfor %}                   
    </div>
</div>
<div class="row justify-content-center">  
    <div class="col-12 col-sm-8 mt-4">
        <p class="recipe_list mb-3"><i class="fas fa-utensils"></i> Your <strong>Created Recipes</strong>:</p>
        <!-- Recipes content -->
        {% for recipe in recipes %}
        {% if recipe.user == username %}
        <div>            
            <div>
                <a href="{{ url_for('view_recipe', recipe_id=recipe._id) }}">
                <h6 class="recipe_name">{{ recipe.recipe_name }}</h6></a>
            </div>           
            {% if session.user|lower == recipe.user|lower %}
            <!-- Edit and delete recipes buttons -->
            <div class="row  mt-2">
                <div class="col-12">
                    <a class="btn btn-sm btn-success" href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}">
                        Edit Recipe</a>
                    <a class="btn btn-sm btn-danger" href="{{ url_for('delete_recipe', recipe_id=recipe._id) }}" 
                        title="delete" onclick="return confirm('Are you sure you want to delete this recipe?')">
                        Delete Recipe</a>                        
                </div>
            </div>
            {% endif %}
        </div> 
        {% else %}
        {% endif %}
        {% endfor %}
    </div>
</div> 
{% endblock %}